<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë§ì”€ë…¸íŠ¸ - í™ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background-color: #111;
      margin: 0;
      font-family: 'Nanum Gothic', sans-serif;
      color: #fff;
    }

    .header {
      position: absolute;
      top: 20px;
      left: 20px;
      background: #222;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(255, 235, 59, 0.2);
      cursor: pointer;
    }

    .header p {
      margin: 0;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #ffffff;
    }

    .quickmemo {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #333;
      padding: 14px;
      width: 240px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
    }

    .quickmemo h3 {
      margin: 0 0 8px;
      font-size: 1rem;
      color: #ffeb3b;
    }

    .quickmemo textarea {
      width: 100%;
      height: 150px;
      resize: vertical;
      background: white url('https://www.transparenttextures.com/patterns/lined-paper.png');
      background-size: 100% 30px;
      background-repeat: repeat-y;
      border-radius: 8px;
      border: none;
      padding: 10px;
      font-family: inherit;
      line-height: 1.6;
      color: #222;
    }

    .mic-btn {
      margin-top: 8px;
      background: #ff5252;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      cursor: pointer;
      margin-right: 5px;
    }

    .title {
      margin-top: 140px;
      text-align: center;
      font-size: 3.5rem;
      font-weight: bold;
      text-shadow: 0 0 15px #ffd54f;
    }

    .verse-box {
      margin: 40px auto;
      background: linear-gradient(to bottom, #fff 29px, #f0f0f0 30px),
                  url('https://www.transparenttextures.com/patterns/lined-paper.png');
      background-size: 100% 30px;
      background-repeat: repeat-y;
      color: #222;
      padding: 30px 20px;
      border-radius: 16px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      text-align: center;
      font-family: 'Nanum Myeongjo', serif;
      font-size: 1.3rem;
      line-height: 1.8;
    }

    .verse-box span {
      display: block;
      font-size: 1rem;
      color: #555;
      margin-top: 8px;
    }

    .start-button {
      display: block;
      margin: 50px auto;
      padding: 14px 32px;
      font-size: 1.1rem;
      font-weight: bold;
      background: #ffeb3b;
      color: #222;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(255, 235, 59, 0.5);
    }

    .start-button:hover {
      transform: translateY(-3px);
    }
  </style>
</head>
<body>

  <!-- ì™¼ìª½ ìƒë‹¨: ì†Œê°œ -->
  <div class="header" onclick="location.href='guide.html'">
    <p>AIì™€ í•¨ê»˜<br>í•˜ë‚˜ë‹˜ì˜ ë§ì”€ì„<br>ë” ê°€ê¹Œì´, ë” ê¹Šê²Œ ì „í•˜ëŠ”<br>ì‚¬ì—­ í”Œë«í¼ - <b>ë§ì”€ë…¸íŠ¸</b></p>
  </div>

  <!-- ì˜¤ë¥¸ìª½ ìƒë‹¨: í€µë©”ëª¨ -->
  <div class="quickmemo">
    <h3>ğŸ“ í€µë©”ëª¨ (ìµœëŒ€ 5ì¤„)</h3>
    <textarea id="quickMemo" placeholder="ë©”ëª¨ë¥¼ ê¸°ë¡í•´ë³´ì„¸ìš”..."></textarea>
    <button class="mic-btn" onclick="startMic()">ğŸ¤ ìŒì„± ì…ë ¥</button>
    <button class="mic-btn" onclick="saveMemo()">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
  </div>

  <!-- ì¤‘ì•™ íƒ€ì´í‹€ -->
  <div class="title">SermonNote</div>

  <!-- ëœë¤ ë§ì”€ -->
  <div class="verse-box" id="verseBox">ë§ì”€ì´ ë‚˜íƒ€ë‚˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>

  <!-- ì‹œì‘ ë²„íŠ¼ -->
  <button class="start-button" onclick="location.href='auth/login.html'">Start Now</button>

  <script>
    const verses = [
      ["ë‚˜ëŠ” ì„ í•œ ëª©ìë¼", "I am the good shepherd", "(ìš”í•œë³µìŒ 10:11)", "(John 10:11)"],
      ["ë‚´ê²Œ ëŠ¥ë ¥ ì£¼ì‹œëŠ” ì ì•ˆì—ì„œ ë‚´ê°€ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆëŠë‹ˆë¼", "I can do all things through Him who gives me strength", "(ë¹Œë¦½ë³´ì„œ 4:13)", "(Philippians 4:13)"],
      ["ë„ˆí¬ëŠ” ì„¸ìƒì˜ ë¹›ì´ë¼", "You are the light of the world", "(ë§ˆíƒœë³µìŒ 5:14)", "(Matthew 5:14)"],
      ["ì—¬í˜¸ì™€ëŠ” ë‚˜ì˜ ëª©ìì‹œë‹ˆ ë‚´ê°€ ë¶€ì¡±í•¨ì´ ì—†ìœ¼ë¦¬ë¡œë‹¤", "The Lord is my shepherd, I lack nothing", "(ì‹œí¸ 23:1)", "(Psalm 23:1)"]
    ];

    let verseIndex = 0;
    function showNextVerse() {
      const box = document.getElementById("verseBox");
      const [kr, en, krRef, enRef] = verses[verseIndex];
      box.innerHTML = `<b>${kr}</b><span>${krRef}</span><br><br><b>${en}</b><span>${enRef}</span>`;
      verseIndex = (verseIndex + 1) % verses.length;
    }

    showNextVerse();
    setInterval(showNextVerse, 5000);

    const memo = document.getElementById("quickMemo");
    const memoKey = "quickMemoList";
    let memoList = JSON.parse(localStorage.getItem(memoKey)) || [];
    memo.value = memoList.join("\n");

    memo.addEventListener("input", () => {
      const lines = memo.value.trim().split("\n").filter(line => line !== "");
      if (lines.length > 5) {
        alert("âš ï¸ í€µë©”ëª¨ëŠ” ìµœëŒ€ 5ì¤„ê¹Œì§€ë§Œ ì…ë ¥í•  ìˆ˜ ìˆì–´ìš”.");
        memo.value = lines.slice(0, 5).join("\n");
      }
      localStorage.setItem(memoKey, JSON.stringify(lines));
    });

    function saveMemo() {
      const lines = memo.value.trim().split("\n").filter(line => line !== "");
      if (lines.length > 5) {
        alert("âš ï¸ í€µë©”ëª¨ëŠ” ìµœëŒ€ 5ì¤„ê¹Œì§€ë§Œ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”.");
        return;
      }
      localStorage.setItem(memoKey, JSON.stringify(lines));
      alert("âœ… ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    function startMic() {
      if (!('webkitSpeechRecognition' in window)) {
        alert("âš ï¸ í¬ë¡¬ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ìŒì„± ì…ë ¥ì´ ì§€ì›ë©ë‹ˆë‹¤.");
        return;
      }

      const recognition = new webkitSpeechRecognition();
      recognition.lang = "ko-KR";
      recognition.onresult = (event) => {
        const text = event.results[0][0].transcript;
        let lines = memo.value.trim().split("\n").filter(line => line !== "");

        if (lines.length >= 5) {
          alert("âš ï¸ ì´ë¯¸ í€µë©”ëª¨ê°€ 5ì¤„ì…ë‹ˆë‹¤. ë” ì´ìƒ ì¶”ê°€í•  ìˆ˜ ì—†ì–´ìš”.");
          return;
        }

        lines.push(text);
        memo.value = lines.join("\n");
        localStorage.setItem(memoKey, JSON.stringify(lines));
      };
      recognition.start();
    }
  </script>

</body>
</html>
